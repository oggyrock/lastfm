(this.webpackJsonplastfm=this.webpackJsonplastfm||[]).push([[0],{35:function(t,e,r){},36:function(t,e,r){},37:function(t,e,r){},39:function(t,e,r){},41:function(t,e,r){},42:function(t,e,r){"use strict";r.r(e);var n=r(1),c=r(0),a=r(15),s=r.n(a),i=r(9),u=(r(35),r(3)),o=r(14);r(36),r(37);var l=function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("ul",{className:"header-list",children:[Object(n.jsx)("li",{className:"header-list-item",children:Object(n.jsx)(o.b,{to:"/",children:"home"})}),Object(n.jsx)("li",{className:"header-list-item",children:Object(n.jsx)(o.b,{to:"/search",children:"search"})})]})})})},j=(r(39),r(10)),h=r.n(j),d=r(17),b=r(8),f=r(13),m=r(25),p={list:[],currentArtist:{},query:"",searchList:[]},O=function(t){return{type:"LOAD",payload:t}},x=function(t){return{type:"PICK_ARTIST",payload:t}},v=function(t){return{type:"SET_QUERY",payload:t}},y=function(t){return{type:"SET_SEARCH_LIST",payload:t}},N=Object(f.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD":return Object(b.a)(Object(b.a)({},t),{},{list:e.payload});case"PICK_ARTIST":return Object(b.a)(Object(b.a)({},t),{},{currentArtist:e.payload});case"SET_QUERY":return Object(b.a)(Object(b.a)({},t),{},{query:e.payload});case"SET_SEARCH_LIST":return Object(b.a)(Object(b.a)({},t),{},{searchList:e.payload});default:return t}}),Object(f.a)(m.a));var g=Object(i.b)((function(t){return{list:t.list,currentArtist:t.currentArtist}}),(function(t){return{loadList:function(){return t(function(){var t=Object(d.a)(h.a.mark((function t(e){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://ws.audioscrobbler.com/2.0/?method=chart.gettoptracks&api_key=4c253050b1788950960d40711fb0e7e8&format=json&limit=10").then((function(t){return t.json()})).then((function(t){return t.tracks.track}));case 2:r=t.sent,e(O(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},loadArtist:function(e){return t(function(t){return function(){var e=Object(d.a)(h.a.mark((function e(r){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=".concat(t,"&api_key=4c253050b1788950960d40711fb0e7e8&format=json")).then((function(t){return t.json()})).then((function(t){return t.artist}));case 2:n=e.sent,r(x(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=Object(i.c)();return Object(c.useEffect)((function(){t.loadList()}),[]),Object(n.jsxs)("div",{children:[t.currentArtist.name&&Object(n.jsx)("div",{className:"artist-info",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsxs)("h2",{className:"artist",children:[t.currentArtist.name,Object(n.jsx)("button",{className:"close",onClick:function(){return e(x(""))},children:"+"})]}),Object(n.jsx)("img",{className:"image",src:t.currentArtist.image[5]["#text"],alt:""}),Object(n.jsx)("div",{className:"tags",children:t.currentArtist.tags.tag.map((function(t){return Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:t.url,children:t.name})},t.url)}))}),Object(n.jsx)("p",{className:"text",children:t.currentArtist.bio.summary})]})}),t.list.map((function(e){return Object(n.jsxs)("div",{className:"track",children:[Object(n.jsx)("a",{href:e.artist.url,children:Object(n.jsx)("img",{className:"song-pic",src:e.image[0]["#text"],alt:""})}),Object(n.jsx)("span",{children:e.name}),Object(n.jsx)("span",{className:"divider",children:"-"}),Object(n.jsx)("span",{className:"artist-name",onClick:function(){return t.loadArtist(e.artist.name)},children:Object(n.jsx)("strong",{children:e.artist.name})})]},e.url)}))]})}));r(41);var k=Object(i.b)((function(t){return{query:t.query,searchList:t.searchList}}),(function(t){return{setQuery:function(e){return t(v(e))},loadSearchList:function(e){return t(function(t){return function(){var e=Object(d.a)(h.a.mark((function e(r){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("http://ws.audioscrobbler.com/2.0/?method=track.search&track=".concat(t,"&api_key=4c253050b1788950960d40711fb0e7e8&format=json&limit=10")).then((function(t){return t.json()})).then((function(t){return t.results.trackmatches.track}));case 4:n=e.sent,r(y(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=Object(i.c)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:"search",onSubmit:function(r){r.preventDefault(),t.loadSearchList(t.query),e(v(""))},children:[Object(n.jsx)("input",{className:"search-field",type:"text",placeholder:"search track",value:t.query,onChange:function(e){var r=e.target;t.setQuery(r.value)}}),Object(n.jsx)("button",{className:"search-button",children:"Search"})]}),t.searchList.map((function(t){return Object(n.jsxs)("div",{className:"track",children:[Object(n.jsx)("a",{href:t.artist.url,children:Object(n.jsx)("img",{className:"song-pic",src:t.image[0]["#text"],alt:""})}),Object(n.jsx)("span",{children:t.name}),Object(n.jsx)("span",{className:"divider",children:"-"}),Object(n.jsx)("span",{children:Object(n.jsx)("strong",{children:t.artist})})]},Math.random())}))]})}));var A=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(l,{}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)(u.a,{path:"/",component:g,exact:!0}),Object(n.jsx)(u.a,{path:"/search",component:k})]})]})})};s.a.render(Object(n.jsx)(i.a,{store:N,children:Object(n.jsx)(A,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.9076ee69.chunk.js.map
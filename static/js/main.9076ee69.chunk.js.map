{"version":3,"sources":["components/Header.js","store/store.js","components/Home.js","components/Search.js","App.js","index.js"],"names":["Header","className","to","initialState","list","currentArtist","query","searchList","setList","type","payload","pickArtist","artist","setQuery","setSearchList","store","createStore","state","action","applyMiddleware","thunk","connect","dispatch","loadList","a","fetch","then","result","json","data","tracks","track","loadArtist","artist2","props","useDispatch","useEffect","name","onClick","src","image","alt","tags","tag","map","href","url","bio","summary","loadSearchList","results","trackmatches","onSubmit","event","preventDefault","placeholder","value","onChange","target","item","Math","random","App","path","component","Home","exact","Search","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9076ee69.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\nimport './header.css';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className='wrapper'>\n        <ul className='header-list'>\n          <li className='header-list-item'><Link to='/'>home</Link></li>\n          <li className='header-list-item'><Link to='/search'>search</Link></li>\n        </ul>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import { createStore, applyMiddleware } from  'redux';\nimport thunk from 'redux-thunk';\n\nconst initialState = {\n  list: [],\n  currentArtist: {},\n  query: '',\n  searchList: [],\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOAD':\n      return {\n        ...state,\n      list: action.payload\n      };\n\n    case 'PICK_ARTIST':\n      return {\n        ...state,\n        currentArtist: action.payload\n      };\n\n    case 'SET_QUERY':\n      return {\n        ...state,\n        query: action.payload\n      };\n\n    case 'SET_SEARCH_LIST':\n      return {\n        ...state,\n        searchList: action.payload\n      }\n\n    default :\n      return state;\n  };\n};\n\nexport const setList = list => ({\n  type: 'LOAD',\n  payload: list,\n})\n\nexport const pickArtist = artist => ({\n  type: 'PICK_ARTIST',\n  payload: artist,\n})\n\nexport const setQuery = query => ({\n  type: 'SET_QUERY',\n  payload: query,\n})\n\nexport const setSearchList = searchList => ({\n  type: 'SET_SEARCH_LIST',\n  payload: searchList,\n});\n\nexport const loadList = () => async (dispatch) => {\n  const list = await fetch('http://ws.audioscrobbler.com/2.0/?method=chart.gettoptracks&api_key=4c253050b1788950960d40711fb0e7e8&format=json&limit=10')\n    .then(result => result.json())\n    .then(data => data.tracks.track);\n  dispatch(setList(list));\n}\n\nexport const loadArtist = (artist) => async (dispatch) => {\n  const artist2 = await fetch(`http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=${artist}&api_key=4c253050b1788950960d40711fb0e7e8&format=json`)\n    .then(result => result.json())\n    .then(data => data.artist);\n  dispatch(pickArtist(artist2));\n}\n\nexport const loadSearchList = (query) => async (dispatch) => {\n  if(query === '') return;\n  const searchList = await fetch(`http://ws.audioscrobbler.com/2.0/?method=track.search&track=${query}&api_key=4c253050b1788950960d40711fb0e7e8&format=json&limit=10`)\n    .then(result => result.json())\n    .then(data => data.results.trackmatches.track);\n  dispatch(setSearchList(searchList));\n}\n\nexport const store = createStore(reducer, applyMiddleware(thunk));\n","import { useEffect } from 'react';\nimport './home.css';\nimport { connect, useDispatch } from 'react-redux';\nimport { loadList, loadArtist, pickArtist } from '../store/store';\n\nfunction Home(props) {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    props.loadList();\n  }, [])\n\n  return (\n    <div>\n      {props.currentArtist.name && (\n        <div className='artist-info'>\n          <div className='wrapper'>\n            <h2 className=\"artist\">\n              {props.currentArtist.name}\n              <button className='close' onClick={() => dispatch(pickArtist(''))}>+</button>\n            </h2>\n            <img className='image' src={props.currentArtist.image[5]['#text']} alt=''/>\n            <div className='tags'>\n              {props.currentArtist.tags.tag.map(tag => (\n                <div key={tag.url}><a href={tag.url}>{tag.name}</a></div>\n              ))}\n            </div>\n            <p className='text'>{props.currentArtist.bio.summary}</p>\n          </div>\n        </div>\n      )}\n      {props.list.map(track => (\n        <div className='track' key={track.url}>\n          <a href={track.artist.url}><img className='song-pic' src={track.image[0]['#text']} alt=''/></a>\n          <span>{track.name}</span>\n          <span className='divider'>-</span>\n          <span className='artist-name' onClick={() => props.loadArtist(track.artist.name)}><strong>{track.artist.name}</strong></span>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  list: state.list,\n  currentArtist: state.currentArtist\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadList: () => dispatch(loadList()),\n  loadArtist: artist => dispatch(loadArtist(artist)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Home);\n","import { connect, useDispatch } from 'react-redux';\nimport './search.css';\nimport { setQuery, loadSearchList } from '../store/store';\n\n\nfunction Search(props) {\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <form className='search' onSubmit={event => {\n        event.preventDefault();\n        props.loadSearchList(props.query);\n        dispatch(setQuery(''));\n      }}>\n        <input\n          className='search-field'\n          type=\"text\"\n          placeholder='search track'\n          value={props.query}\n          onChange={({ target }) => {\n            props.setQuery(target.value)}}\n        />\n        <button className='search-button'>Search</button>\n      </form>\n      {props.searchList.map(item => (\n        <div className='track' key={Math.random()}>\n          <a href={item.artist.url}><img className='song-pic' src={item.image[0]['#text']} alt='' /></a>\n          <span>{item.name}</span>\n          <span className='divider'>-</span>\n          <span><strong>{item.artist}</strong></span>\n        </div>\n      ))}\n    </>\n  )\n};\n\nconst mapStateToProps = state => ({\n  query: state.query,\n  searchList: state.searchList,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setQuery: query => dispatch(setQuery(query)),\n  loadSearchList: query => dispatch(loadSearchList(query))\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Search);\n","import { Route } from 'react-router';\nimport { HashRouter } from 'react-router-dom';\nimport './App.css';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport Search from './components/Search';\n\nfunction App() {\n  return (\n      <HashRouter>\n        <div className=\"App\">\n          <Header />\n          <div className='wrapper'>\n            <Route path='/' component={Home} exact />\n            <Route path='/search' component={Search} />\n          </div>\n        </div>\n      </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './App';\nimport { store } from './store/store.js';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}